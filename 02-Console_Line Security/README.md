# 🔐 سناریوی دوم: امنیت خط کنسول (Console Line Security)

در این سناریو قصد داریم امنیت دسترسی از طریق پورت کنسول دستگاه‌های سیسکو را افزایش دهیم. این کار با استفاده از تعریف کاربران مختلف، رمز عبور enable، رمزنگاری رمزها و تنظیم تایم‌اوت انجام می‌شود.

---

## 🧪 هدف سناریو

آشنایی با موارد زیر:

- تعریف کاربران با سطوح دسترسی مختلف  
- تنظیم رمز عبور برای حالت privileged exec  
- رمزنگاری رمزهای عبور در فایل پیکربندی  
- فعال‌سازی احراز هویت محلی روی پورت کنسول  
- تنظیم زمان تایم‌اوت برای بیکار ماندن ترمینال  

---

## 🧩 پیکربندی امنیتی کنسول

### 🎚 تعریف کاربران با سطوح دسترسی مختلف

```bash
Switch> enable
Switch# configure terminal
Switch(config)# username admin privilege 15 secret P@ssWord
Switch(config)# username guest privilege 0 secret guest
```

- کاربر `admin`: با سطح دسترسی کامل (15)  
- کاربر `guest`: با سطح دسترسی محدود (0)  

---

### 🔐 تنظیم رمز عبور حالت privileged exec

```bash
Switch(config)# enable secret EnPass
```

- رمز `EnPass` برای ورود به حالت Enable استفاده می‌شود.

---

### 🔒 رمزنگاری تمامی رمزهای عبور

```bash
Switch(config)# service password-encryption
```

- این دستور رمزهای ساده را به صورت رمزنگاری‌شده در پیکربندی نمایش می‌دهد.

---

### 🎛 پیکربندی پورت کنسول برای احراز هویت محلی و تایم‌اوت

```bash
Switch(config)# line console 0
Switch(config-line)# no login
Switch(config-line)# no password
Switch(config-line)# login local
Switch(config-line)# exec-timeout 3 30
Switch(config-line)# exit
```

- `login local`: احراز هویت با استفاده از کاربران تعریف‌شده  
- `exec-timeout 3 30`: پس از ۳ دقیقه و ۳۰ ثانیه عدم فعالیت، ارتباط کنسول قطع می‌شود  

---

## 🧾 مشاهده پیکربندی جاری

```bash
Switch# do show running-config
```

- برای بررسی تنظیمات انجام‌شده از این دستور استفاده می‌شود.

---

## 📌 نکات امنیتی

| تنظیمات                       | عملکرد                                                    |
|------------------------------|------------------------------------------------------------|
| `privilege 15`               | دسترسی کامل به همه دستورات                                |
| `privilege 0`               | حداقل سطح دسترسی، اغلب فقط logout و exit                  |
| `service password-encryption` | جلوگیری از مشاهده رمزهای ساده در پیکربندی               |
| `exec-timeout`              | افزایش امنیت با بستن ترمینال در صورت عدم فعالیت         |

---

با استفاده از این پیکربندی، می‌توانید سطح امنیت دسترسی فیزیکی از طریق کابل کنسول را به‌شکل قابل توجهی افزایش دهید.
